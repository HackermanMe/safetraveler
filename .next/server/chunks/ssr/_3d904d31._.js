module.exports=[67453,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},97854,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70106);let e=(0,d.default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),f=(0,d.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var g=a.i(67453),h=a.i(73570);let i=[{value:"security",label:"Sécurité",color:"red"},{value:"cleanliness",label:"Propreté",color:"orange"},{value:"maintenance",label:"Maintenance",color:"yellow"},{value:"other",label:"Autre",color:"gray"}];function j(){let[a,d]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),r=(0,c.useRef)(null),s=async b=>{if(b.preventDefault(),a&&j){o(!0);try{(await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:a,location:"Non spécifiée",description:j,photo:l,severity:"security"===a?"high":"medium"})})).ok&&(q(!0),setTimeout(()=>{d(""),k(""),m(null),q(!1)},3e3))}catch(a){console.error("Error submitting report:",a)}finally{o(!1)}}};return p?(0,b.jsx)("div",{className:"h-[calc(100vh-64px)] flex items-center justify-center bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center max-w-md mx-auto px-4",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(g.CheckCircle2,{className:"w-12 h-12 text-green-600"})}),(0,b.jsx)("h2",{className:"text-2xl font-normal text-gray-900 mb-3",children:"Signalement envoyé"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Merci pour votre contribution. Votre signalement a été transmis au personnel de l'aéroport."})]})}):(0,b.jsx)("div",{className:"min-h-[calc(100vh-64px)] bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-light text-gray-900 mb-3",children:"Signaler un problème"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Signalez anonymement tout problème rencontré dans l'aéroport"})]}),(0,b.jsxs)("form",{onSubmit:s,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Type de problème"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:i.map(c=>{let e=a===c.value,f={red:{bg:"bg-red-50",border:"border-red-600",text:"text-red-900"},orange:{bg:"bg-orange-50",border:"border-orange-600",text:"text-orange-900"},yellow:{bg:"bg-yellow-50",border:"border-yellow-600",text:"text-yellow-900"},gray:{bg:"bg-gray-50",border:"border-gray-600",text:"text-gray-900"}}[c.color];return(0,b.jsx)("button",{type:"button",onClick:()=>d(c.value),className:`p-4 rounded-lg border-2 text-center font-medium transition-all ${e?`${f.bg} ${f.border} ${f.text}`:"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:c.label},c.value)})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Description"}),(0,b.jsx)("textarea",{value:j,onChange:a=>k(a.target.value),rows:5,placeholder:"Décrivez le problème rencontré...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent resize-none"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Photo (optionnel)"}),(0,b.jsx)("input",{ref:r,type:"file",accept:"image/*",capture:"environment",onChange:a=>{let b=a.target.files?.[0];if(b){let a=new FileReader;a.onloadend=()=>{m(a.result)},a.readAsDataURL(b)}},className:"hidden"}),l?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:l,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),(0,b.jsx)("button",{type:"button",onClick:()=>m(null),className:"absolute top-2 right-2 bg-white p-2 rounded-full shadow-lg hover:bg-gray-100",children:"✕"})]}):(0,b.jsxs)("button",{type:"button",onClick:()=>r.current?.click(),className:"w-full p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-600 transition-colors flex flex-col items-center gap-3",children:[(0,b.jsx)(e,{className:"w-10 h-10 text-gray-400"}),(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Appuyez pour prendre une photo"})]})]}),(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,b.jsxs)("p",{className:"text-sm text-blue-900 flex items-start gap-2",children:[(0,b.jsx)(h.AlertTriangle,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{children:"Votre signalement est entièrement anonyme. Aucune donnée personnelle n'est collectée."})]})}),(0,b.jsx)("button",{type:"submit",disabled:!a||!j||n,className:"w-full bg-blue-600 text-white px-6 py-4 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed shadow-sm flex items-center justify-center gap-2",children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Envoi en cours..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f,{className:"w-5 h-5"}),"Envoyer le signalement"]})})]})]})})}a.s(["default",()=>j],97854)}];

//# sourceMappingURL=_3d904d31._.js.map