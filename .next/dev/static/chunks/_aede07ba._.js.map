{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Nouveau%20dossier/Projet/Funny_tps/safetraveler/components/map/EnhancedAirportMap.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport mapboxgl from \"mapbox-gl\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Location, LocationType } from \"@/lib/types\";\nimport { locationColors as themeLocationColors, theme } from \"@/lib/config/theme\";\n\ninterface EnhancedAirportMapProps {\n  locations: Location[];\n  selectedLocation?: string;\n  onLocationSelect?: (locationId: string) => void;\n  showRoute?: [number, number][];\n  currentFloor?: number;\n}\n\n// Use location colors from theme\nconst locationColors = themeLocationColors;\n\nexport default function EnhancedAirportMap({\n  locations,\n  selectedLocation,\n  onLocationSelect,\n  showRoute,\n  currentFloor = 0,\n}: EnhancedAirportMapProps) {\n  const mapContainer = useRef<HTMLDivElement>(null);\n  const map = useRef<mapboxgl.Map | null>(null);\n  const markers = useRef<{ [key: string]: mapboxgl.Marker }>({});\n  const [mapLoaded, setMapLoaded] = useState(false);\n\n  useEffect(() => {\n    if (!mapContainer.current || map.current) return;\n\n    const token = process.env.NEXT_PUBLIC_MAPBOX_TOKEN;\n    if (!token) {\n      console.error(\"Mapbox token is missing\");\n      return;\n    }\n\n    mapboxgl.accessToken = token;\n\n    // Create map with improved style for Lomé Airport\n    map.current = new mapboxgl.Map({\n      container: mapContainer.current,\n      style: \"mapbox://styles/mapbox/streets-v12\", // More detailed street map\n      center: [1.2549, 6.1659], // Lomé-Tokoin Airport coordinates\n      zoom: 17.5, // Closer zoom for better indoor navigation\n      pitch: 0,\n      bearing: 0,\n      attributionControl: false,\n      minZoom: 15, // Prevent zooming out too far\n      maxZoom: 20, // Allow detailed zoom\n    });\n\n    // Add controls\n    map.current.addControl(\n      new mapboxgl.NavigationControl({\n        showCompass: true,\n        showZoom: true,\n        visualizePitch: false,\n      }),\n      \"top-right\"\n    );\n\n    map.current.addControl(\n      new mapboxgl.GeolocateControl({\n        positionOptions: {\n          enableHighAccuracy: true,\n        },\n        trackUserLocation: true,\n        showUserHeading: true,\n        showUserLocation: true,\n      }),\n      \"top-right\"\n    );\n\n    map.current.on(\"load\", () => {\n      setMapLoaded(true);\n    });\n\n    return () => {\n      if (map.current) {\n        map.current.remove();\n        map.current = null;\n      }\n    };\n  }, []);\n\n  // Add enhanced markers\n  useEffect(() => {\n    if (!map.current || !mapLoaded) return;\n\n    Object.values(markers.current).forEach((marker) => marker.remove());\n    markers.current = {};\n\n    const floorLocations = locations.filter((loc) => loc.floor === currentFloor);\n\n    floorLocations.forEach((location) => {\n      const color = locationColors[location.type] || \"#757575\";\n      const isSelected = selectedLocation === location.id;\n\n      // Create custom marker element\n      const el = document.createElement(\"div\");\n      el.className = \"custom-marker\";\n      el.style.width = isSelected ? \"48px\" : \"40px\";\n      el.style.height = isSelected ? \"48px\" : \"40px\";\n      el.style.cursor = \"pointer\";\n      el.style.borderRadius = \"50%\";\n      el.style.backgroundColor = color;\n      el.style.border = `3px solid ${isSelected ? \"#fff\" : \"rgba(255,255,255,0.9)\"}`;\n      el.style.boxShadow = isSelected\n        ? \"0 4px 12px rgba(0,0,0,0.3)\"\n        : \"0 2px 8px rgba(0,0,0,0.2)\";\n      el.style.display = \"flex\";\n      el.style.alignItems = \"center\";\n      el.style.justifyContent = \"center\";\n      el.style.transition = \"all 0.2s ease\";\n      el.style.color = \"#fff\";\n      el.style.fontSize = isSelected ? \"20px\" : \"16px\";\n      el.style.fontWeight = \"bold\";\n      el.innerHTML = getLocationInitial(location.type);\n\n      el.addEventListener(\"mouseenter\", () => {\n        el.style.transform = \"scale(1.15)\";\n        el.style.zIndex = \"1000\";\n      });\n\n      el.addEventListener(\"mouseleave\", () => {\n        el.style.transform = \"scale(1)\";\n        el.style.zIndex = \"1\";\n      });\n\n      const popup = new mapboxgl.Popup({\n        offset: 25,\n        closeButton: false,\n        maxWidth: \"300px\",\n      }).setHTML(`\n        <div style=\"padding: 12px;\">\n          <div style=\"display: flex; align-items: center; margin-bottom: 8px;\">\n            <div style=\"width: 32px; height: 32px; border-radius: 50%; background-color: ${color}; display: flex; align-items: center; justify-center; color: white; font-weight: bold; margin-right: 12px;\">\n              ${getLocationInitial(location.type)}\n            </div>\n            <div>\n              <h3 style=\"font-weight: 600; font-size: 16px; margin: 0; color: #1f2937;\">${location.name}</h3>\n              <p style=\"font-size: 12px; color: #6b7280; margin: 0;\">${getLocationTypeLabel(location.type)}</p>\n            </div>\n          </div>\n          ${location.description ? `<p style=\"font-size: 14px; color: #4b5563; margin: 0;\">${location.description}</p>` : \"\"}\n          ${location.status ? `<div style=\"margin-top: 8px; padding: 4px 8px; background-color: ${getStatusColor(location.status)}20; color: ${getStatusColor(location.status)}; border-radius: 4px; font-size: 12px; display: inline-block; font-weight: 500;\">${getStatusLabel(location.status)}</div>` : \"\"}\n        </div>\n      `);\n\n      const marker = new mapboxgl.Marker(el)\n        .setLngLat(location.coordinates as [number, number])\n        .setPopup(popup)\n        .addTo(map.current!);\n\n      el.addEventListener(\"click\", () => {\n        if (onLocationSelect) {\n          onLocationSelect(location.id);\n        }\n      });\n\n      markers.current[location.id] = marker;\n    });\n  }, [locations, mapLoaded, currentFloor, selectedLocation, onLocationSelect]);\n\n  // Draw route\n  useEffect(() => {\n    if (!map.current || !mapLoaded || !showRoute) return;\n\n    const routeId = \"route\";\n\n    if (map.current.getSource(routeId)) {\n      map.current.removeLayer(routeId);\n      map.current.removeSource(routeId);\n    }\n\n    map.current.addSource(routeId, {\n      type: \"geojson\",\n      data: {\n        type: \"Feature\",\n        properties: {},\n        geometry: {\n          type: \"LineString\",\n          coordinates: showRoute,\n        },\n      },\n    });\n\n    map.current.addLayer({\n      id: routeId,\n      type: \"line\",\n      source: routeId,\n      layout: {\n        \"line-join\": \"round\",\n        \"line-cap\": \"round\",\n      },\n      paint: {\n        \"line-color\": theme.colors.accent.main, // Yellow accent for routes\n        \"line-width\": 6,\n        \"line-opacity\": 0.9,\n      },\n    });\n\n    const bounds = showRoute.reduce(\n      (bounds, coord) => bounds.extend(coord as [number, number]),\n      new mapboxgl.LngLatBounds(showRoute[0] as [number, number], showRoute[0] as [number, number])\n    );\n\n    map.current.fitBounds(bounds, {\n      padding: 80,\n    });\n\n    return () => {\n      if (map.current && map.current.getSource(routeId)) {\n        map.current.removeLayer(routeId);\n        map.current.removeSource(routeId);\n      }\n    };\n  }, [showRoute, mapLoaded]);\n\n  return <div ref={mapContainer} className=\"w-full h-full rounded-lg\" />;\n}\n\nfunction getLocationInitial(type: LocationType): string {\n  const initials: Record<LocationType, string> = {\n    gate: \"G\",\n    checkin: \"C\",\n    security: \"S\",\n    customs: \"D\",\n    toilet: \"T\",\n    restaurant: \"R\",\n    shop: \"B\",\n    information: \"i\",\n    exit: \"E\",\n    entrance: \"E\",\n    lounge: \"L\",\n    baggage: \"B\",\n    parking: \"P\",\n    medical: \"+\",\n    prayer: \"P\",\n    smoking: \"S\",\n    atm: \"$\",\n    wifi: \"W\",\n    charging: \"⚡\",\n  };\n  return initials[type] || \"?\";\n}\n\nfunction getLocationTypeLabel(type: LocationType): string {\n  const labels: Record<LocationType, string> = {\n    gate: \"Porte d'embarquement\",\n    checkin: \"Enregistrement\",\n    security: \"Sécurité\",\n    customs: \"Douane\",\n    toilet: \"Toilettes\",\n    restaurant: \"Restauration\",\n    shop: \"Boutique\",\n    information: \"Information\",\n    exit: \"Sortie\",\n    entrance: \"Entrée\",\n    lounge: \"Salon\",\n    baggage: \"Bagages\",\n    parking: \"Parking\",\n    medical: \"Médical\",\n    prayer: \"Salle de prière\",\n    smoking: \"Fumoir\",\n    atm: \"Distributeur\",\n    wifi: \"WiFi\",\n    charging: \"Recharge\",\n  };\n  return labels[type] || type;\n}\n\nfunction getStatusColor(status: string): string {\n  const colors: Record<string, string> = {\n    open: theme.colors.success.main,\n    closed: theme.colors.error.main,\n    busy: theme.colors.warning.main,\n  };\n  return colors[status] || theme.colors.gray[500];\n}\n\nfunction getStatusLabel(status: string): string {\n  const labels: Record<string, string> = {\n    open: \"Ouvert\",\n    closed: \"Fermé\",\n    busy: \"Affluence\",\n  };\n  return labels[status] || status;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 298, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/lib/data/airport-data.json"],"sourcesContent":["{\"airport\":{\"name\":\"Aéroport International Gnassingbé Eyadéma\",\"code\":\"LFW\",\"city\":\"Lomé\",\"country\":\"Togo\",\"coordinates\":[1.2549,6.1659],\"capacity\":\"2 000 000 passagers/an\",\"hub\":\"ASKY Airlines\",\"distance_city\":\"6.8 km du centre-ville\"},\"locations\":[{\"id\":\"entrance-main\",\"name\":\"Entrée Principale\",\"type\":\"entrance\",\"floor\":0,\"coordinates\":[1.2545,6.1658],\"description\":\"Entrée principale du terminal international\",\"status\":\"open\"},{\"id\":\"entrance-vip\",\"name\":\"Entrée VIP\",\"type\":\"entrance\",\"floor\":0,\"coordinates\":[1.25455,6.1658],\"description\":\"Entrée réservée Business et Première Classe\",\"status\":\"open\",\"accessibleTo\":[\"business\",\"first\"]},{\"id\":\"checkin-economy\",\"name\":\"Enregistrement Zone A\",\"type\":\"checkin\",\"floor\":0,\"coordinates\":[1.2546,6.16585],\"description\":\"Comptoirs 1-20 - Classe Économique\",\"status\":\"open\",\"accessibleTo\":[\"economy\"]},{\"id\":\"checkin-business\",\"name\":\"Enregistrement Zone B\",\"type\":\"checkin\",\"floor\":0,\"coordinates\":[1.25465,6.16585],\"description\":\"Comptoirs 21-26 - Business & Première Classe\",\"status\":\"open\",\"accessibleTo\":[\"business\",\"first\"]},{\"id\":\"checkin-asky\",\"name\":\"Enregistrement ASKY Airlines\",\"type\":\"checkin\",\"floor\":0,\"coordinates\":[1.2547,6.16585],\"description\":\"Comptoirs dédiés ASKY Airlines (hub)\",\"status\":\"open\"},{\"id\":\"security-main\",\"name\":\"Contrôle de Sécurité Principal\",\"type\":\"security\",\"floor\":0,\"coordinates\":[1.25475,6.1659],\"description\":\"Point de contrôle sécurité et passeport\",\"status\":\"busy\"},{\"id\":\"security-fast\",\"name\":\"Contrôle Fast Track\",\"type\":\"security\",\"floor\":0,\"coordinates\":[1.2548,6.1659],\"description\":\"Voie rapide Business/Première Classe\",\"status\":\"open\",\"accessibleTo\":[\"business\",\"first\"]},{\"id\":\"gate-a1\",\"name\":\"Porte A1\",\"type\":\"gate\",\"floor\":1,\"coordinates\":[1.2549,6.16595],\"description\":\"Vols internationaux - Air France, Brussels Airlines\",\"status\":\"open\"},{\"id\":\"gate-a2\",\"name\":\"Porte A2\",\"type\":\"gate\",\"floor\":1,\"coordinates\":[1.25495,6.16595],\"description\":\"Vols internationaux - Ethiopian Airlines\",\"status\":\"open\"},{\"id\":\"gate-a3\",\"name\":\"Porte A3\",\"type\":\"gate\",\"floor\":1,\"coordinates\":[1.255,6.16595],\"description\":\"Vols internationaux - Turkish Airlines\",\"status\":\"open\"},{\"id\":\"gate-a4\",\"name\":\"Porte A4\",\"type\":\"gate\",\"floor\":1,\"coordinates\":[1.25505,6.16595],\"description\":\"Vols internationaux - Royal Air Maroc\",\"status\":\"open\"},{\"id\":\"gate-a5\",\"name\":\"Porte A5\",\"type\":\"gate\",\"floor\":1,\"coordinates\":[1.2551,6.16595],\"description\":\"Vols internationaux - ASKY Airlines\",\"status\":\"open\"},{\"id\":\"gate-a6\",\"name\":\"Porte A6\",\"type\":\"gate\",\"floor\":1,\"coordinates\":[1.25515,6.16595],\"description\":\"Vols internationaux - Emirates, Air Côte d'Ivoire\",\"status\":\"open\"},{\"id\":\"gate-b1\",\"name\":\"Porte B1\",\"type\":\"gate\",\"floor\":1,\"coordinates\":[1.2549,6.166],\"description\":\"Vols régionaux - Destinations Afrique de l'Ouest\",\"status\":\"open\"},{\"id\":\"gate-b2\",\"name\":\"Porte B2\",\"type\":\"gate\",\"floor\":1,\"coordinates\":[1.25495,6.166],\"description\":\"Vols domestiques\",\"status\":\"open\"},{\"id\":\"gate-b3\",\"name\":\"Porte B3\",\"type\":\"gate\",\"floor\":1,\"coordinates\":[1.255,6.166],\"description\":\"Vols régionaux - ASKY Airlines\",\"status\":\"open\"},{\"id\":\"baggage-1\",\"name\":\"Tapis 1 - Arrivées Internationales\",\"type\":\"baggage\",\"floor\":0,\"coordinates\":[1.2552,6.16575],\"description\":\"Récupération bagages vols internationaux\",\"status\":\"open\"},{\"id\":\"baggage-2\",\"name\":\"Tapis 2 - Arrivées Régionales\",\"type\":\"baggage\",\"floor\":0,\"coordinates\":[1.25525,6.16575],\"description\":\"Récupération bagages vols régionaux\",\"status\":\"open\"},{\"id\":\"customs-arrival\",\"name\":\"Douane Arrivées\",\"type\":\"customs\",\"floor\":0,\"coordinates\":[1.2553,6.16575],\"description\":\"Contrôle douanier pour arrivées internationales\",\"status\":\"open\"},{\"id\":\"info-main\",\"name\":\"Information Principale\",\"type\":\"information\",\"floor\":0,\"coordinates\":[1.25455,6.16585],\"description\":\"Renseignements, objets trouvés, assistance\",\"status\":\"open\"},{\"id\":\"info-gates\",\"name\":\"Information Zone Embarquement\",\"type\":\"information\",\"floor\":1,\"coordinates\":[1.255,6.1659],\"description\":\"Informations vols et assistance embarquement\",\"status\":\"open\"},{\"id\":\"toilet-arrival\",\"name\":\"Toilettes Zone Arrivées\",\"type\":\"toilet\",\"floor\":0,\"coordinates\":[1.25515,6.16575],\"description\":\"Toilettes accessibles PMR\",\"status\":\"open\"},{\"id\":\"toilet-checkin\",\"name\":\"Toilettes Zone Enregistrement\",\"type\":\"toilet\",\"floor\":0,\"coordinates\":[1.25465,6.1658],\"description\":\"Toilettes accessibles PMR\",\"status\":\"open\"},{\"id\":\"toilet-gates-a\",\"name\":\"Toilettes Portes A\",\"type\":\"toilet\",\"floor\":1,\"coordinates\":[1.25505,6.1659],\"description\":\"Toilettes zone internationale\",\"status\":\"open\"},{\"id\":\"toilet-gates-b\",\"name\":\"Toilettes Portes B\",\"type\":\"toilet\",\"floor\":1,\"coordinates\":[1.25495,6.166],\"description\":\"Toilettes zone domestique\",\"status\":\"open\"},{\"id\":\"medical-main\",\"name\":\"Infirmerie\",\"type\":\"medical\",\"floor\":0,\"coordinates\":[1.2546,6.1658],\"description\":\"Assistance médicale d'urgence - 24/7\",\"status\":\"open\"},{\"id\":\"prayer-room\",\"name\":\"Salle de Prière\",\"type\":\"prayer\",\"floor\":1,\"coordinates\":[1.2551,6.1659],\"description\":\"Espace de recueillement multi-confessionnel\",\"status\":\"open\"},{\"id\":\"lounge-asky\",\"name\":\"Salon VIP ASKY Airlines\",\"type\":\"lounge\",\"floor\":1,\"coordinates\":[1.25485,6.16595],\"description\":\"Salon VIP avec restauration, Wi-Fi, douches\",\"status\":\"open\",\"accessibleTo\":[\"business\",\"first\"]},{\"id\":\"restaurant-maquis\",\"name\":\"Le Maquis de l'Aéroport\",\"type\":\"restaurant\",\"floor\":0,\"coordinates\":[1.2547,6.1658],\"description\":\"Cuisine togolaise authentique - Fufu, Akpan, Akoumé\",\"status\":\"open\",\"hours\":\"6h - 22h\"},{\"id\":\"restaurant-teranga\",\"name\":\"Restaurant Teranga\",\"type\":\"restaurant\",\"floor\":1,\"coordinates\":[1.25505,6.16592],\"description\":\"Cuisine africaine et internationale\",\"status\":\"open\",\"hours\":\"5h - 23h\"},{\"id\":\"cafe-express\",\"name\":\"Café Express\",\"type\":\"restaurant\",\"floor\":1,\"coordinates\":[1.25495,6.16592],\"description\":\"Café, viennoiseries, sandwichs rapides\",\"status\":\"open\",\"hours\":\"4h30 - 23h30\"},{\"id\":\"restaurant-fastfood\",\"name\":\"Quick Bites\",\"type\":\"restaurant\",\"floor\":1,\"coordinates\":[1.2551,6.16592],\"description\":\"Fast-food international - Burgers, pizzas, salades\",\"status\":\"open\",\"hours\":\"6h - 23h\"},{\"id\":\"shop-dutyfree\",\"name\":\"Duty Free Lomé\",\"type\":\"shop\",\"floor\":1,\"coordinates\":[1.2549,6.16592],\"description\":\"Parfums, alcools, tabac, cosmétiques hors taxes\",\"status\":\"open\",\"hours\":\"5h - 23h\"},{\"id\":\"shop-artisanat\",\"name\":\"Artisanat Togolais\",\"type\":\"shop\",\"floor\":1,\"coordinates\":[1.255,6.16592],\"description\":\"Tissus batik, sculptures, bijoux locaux, souvenirs\",\"status\":\"open\",\"hours\":\"6h - 22h\"},{\"id\":\"shop-presse\",\"name\":\"Relay Presse\",\"type\":\"shop\",\"floor\":1,\"coordinates\":[1.25515,6.16592],\"description\":\"Presse internationale, livres, snacks\",\"status\":\"open\",\"hours\":\"5h - 23h\"},{\"id\":\"shop-electronics\",\"name\":\"Tech & Travel\",\"type\":\"shop\",\"floor\":1,\"coordinates\":[1.25505,6.16597],\"description\":\"Électronique, accessoires voyage, adaptateurs\",\"status\":\"open\",\"hours\":\"6h - 22h\"},{\"id\":\"bank-utb\",\"name\":\"Union Togolaise de Banque (UTB)\",\"type\":\"shop\",\"floor\":0,\"coordinates\":[1.25475,6.16575],\"description\":\"Distributeur automatique et services bancaires\",\"status\":\"open\",\"hours\":\"24/7 (DAB)\"},{\"id\":\"exchange-office\",\"name\":\"Bureau de Change\",\"type\":\"shop\",\"floor\":0,\"coordinates\":[1.2548,6.16575],\"description\":\"Change de devises - CFA, EUR, USD\",\"status\":\"open\",\"hours\":\"6h - 22h\"},{\"id\":\"car-rental-avis\",\"name\":\"Avis Location de Voitures\",\"type\":\"shop\",\"floor\":0,\"coordinates\":[1.25535,6.1658],\"description\":\"Location de véhicules\",\"status\":\"open\",\"hours\":\"7h - 22h\",\"contact\":\"+228 22 21 05 82\"},{\"id\":\"car-rental-europcar\",\"name\":\"Europcar\",\"type\":\"shop\",\"floor\":0,\"coordinates\":[1.2554,6.1658],\"description\":\"Location de véhicules\",\"status\":\"open\",\"hours\":\"7h - 22h\",\"contact\":\"+228 22 21 13 24\"},{\"id\":\"car-rental-hertz\",\"name\":\"Hertz\",\"type\":\"shop\",\"floor\":0,\"coordinates\":[1.25545,6.1658],\"description\":\"Location de véhicules\",\"status\":\"open\",\"hours\":\"7h - 22h\",\"contact\":\"+228 22 21 44 79\"},{\"id\":\"parking-main\",\"name\":\"Parking Principal\",\"type\":\"parking\",\"floor\":0,\"coordinates\":[1.2544,6.1658],\"description\":\"Parking longue durée - 650 places\",\"status\":\"open\",\"hours\":\"24/7\"}],\"services\":[{\"id\":\"service-prmassist\",\"name\":\"Assistance Passagers à Mobilité Réduite\",\"category\":\"assistance\",\"description\":\"Accompagnement personnalisé, fauteuils roulants, assistance embarquement/débarquement\",\"location\":\"info-main\",\"hours\":\"24/7\",\"contact\":\"+228 22 23 44 55\",\"icon\":\"accessibility\",\"free\":true},{\"id\":\"service-medical\",\"name\":\"Assistance Médicale d'Urgence\",\"category\":\"medical\",\"description\":\"Infirmerie avec personnel qualifié, premiers secours, défibrillateur\",\"location\":\"medical-main\",\"hours\":\"24/7\",\"contact\":\"+228 22 23 44 56\",\"icon\":\"cross\",\"free\":true},{\"id\":\"service-lostfound\",\"name\":\"Objets Trouvés\",\"category\":\"lost_found\",\"description\":\"Déclaration et récupération d'objets perdus dans l'enceinte de l'aéroport\",\"location\":\"info-main\",\"hours\":\"6h - 23h\",\"contact\":\"+228 22 23 44 57\",\"icon\":\"briefcase\",\"free\":true},{\"id\":\"service-flightinfo\",\"name\":\"Information Vols en Temps Réel\",\"category\":\"information\",\"description\":\"Horaires, retards, annulations, changements de porte\",\"location\":\"info-main\",\"hours\":\"24/7\",\"contact\":\"+228 22 23 44 58\",\"icon\":\"info\",\"free\":true},{\"id\":\"service-customs\",\"name\":\"Services Douaniers\",\"category\":\"customs\",\"description\":\"Déclarations douanières, contrôles, informations réglementaires\",\"location\":\"customs-arrival\",\"hours\":\"Selon horaires des vols\",\"contact\":\"+228 22 23 44 59\",\"icon\":\"shield\",\"free\":true},{\"id\":\"service-wifi\",\"name\":\"Wi-Fi Gratuit\",\"category\":\"connectivity\",\"description\":\"Accès Internet sans fil gratuit dans tout l'aéroport\",\"location\":\"Partout\",\"hours\":\"24/7\",\"network\":\"Aeroport_LFW_Free\",\"icon\":\"wifi\",\"free\":true},{\"id\":\"service-porter\",\"name\":\"Porteurs de Bagages\",\"category\":\"assistance\",\"description\":\"Aide au transport des bagages\",\"location\":\"entrance-main\",\"hours\":\"5h - 23h\",\"icon\":\"luggage\",\"free\":false,\"pricing\":\"2000-5000 CFA selon distance\"},{\"id\":\"service-vip\",\"name\":\"Service VIP & Meet & Greet\",\"category\":\"premium\",\"description\":\"Accueil personnalisé, assistance formalités, salon VIP, voie rapide\",\"location\":\"entrance-vip\",\"hours\":\"24/7 (sur réservation)\",\"contact\":\"+228 22 23 44 60\",\"icon\":\"star\",\"free\":false,\"pricing\":\"À partir de 50 000 CFA\"},{\"id\":\"service-avis\",\"name\":\"Location Voitures Avis\",\"category\":\"transport\",\"description\":\"Large gamme de véhicules disponibles\",\"location\":\"car-rental-avis\",\"hours\":\"7h - 22h\",\"contact\":\"+228 22 21 05 82\",\"icon\":\"car\",\"free\":false,\"website\":\"https://www.avis.com\"},{\"id\":\"service-europcar\",\"name\":\"Location Voitures Europcar\",\"category\":\"transport\",\"description\":\"Véhicules neufs et bien entretenus\",\"location\":\"car-rental-europcar\",\"hours\":\"7h - 22h\",\"contact\":\"+228 22 21 13 24\",\"icon\":\"car\",\"free\":false,\"website\":\"https://www.europcar.com\"},{\"id\":\"service-hertz\",\"name\":\"Location Voitures Hertz\",\"category\":\"transport\",\"description\":\"Leader mondial de la location de véhicules\",\"location\":\"car-rental-hertz\",\"hours\":\"7h - 22h\",\"contact\":\"+228 22 21 44 79\",\"icon\":\"car\",\"free\":false,\"website\":\"https://www.hertz.com\"},{\"id\":\"service-utb\",\"name\":\"Services Bancaires UTB\",\"category\":\"financial\",\"description\":\"Distributeur automatique 24/7, services bancaires\",\"location\":\"bank-utb\",\"hours\":\"24/7 (DAB)\",\"icon\":\"banknote\",\"free\":true},{\"id\":\"service-exchange\",\"name\":\"Bureau de Change\",\"category\":\"financial\",\"description\":\"Change CFA, Euro, Dollar US, autres devises principales\",\"location\":\"exchange-office\",\"hours\":\"6h - 22h\",\"icon\":\"coins\",\"free\":false,\"commission\":\"Commission 2-3%\"}],\"floors\":[{\"level\":0,\"name\":\"Rez-de-chaussée - Arrivées & Départs\",\"description\":\"Zone publique : Enregistrement, Bagages, Services\",\"bounds\":[[1.2544,6.1657],[1.2556,6.1661]]},{\"level\":1,\"name\":\"Étage 1 - Zone d'Embarquement\",\"description\":\"Zone sécurisée : Portes d'embarquement, Restaurants, Boutiques\",\"bounds\":[[1.2548,6.1659],[1.2552,6.1661]]}],\"airlines\":[{\"code\":\"KP\",\"name\":\"ASKY Airlines\",\"type\":\"hub\",\"destinations\":[\"Dakar\",\"Abidjan\",\"Ouagadougou\",\"Niamey\",\"Cotonou\",\"Accra\",\"Lagos\",\"Libreville\"]},{\"code\":\"AF\",\"name\":\"Air France\",\"type\":\"international\",\"destinations\":[\"Paris CDG\"]},{\"code\":\"SN\",\"name\":\"Brussels Airlines\",\"type\":\"international\",\"destinations\":[\"Bruxelles\"]},{\"code\":\"ET\",\"name\":\"Ethiopian Airlines\",\"type\":\"international\",\"destinations\":[\"Addis-Abeba\"]},{\"code\":\"TK\",\"name\":\"Turkish Airlines\",\"type\":\"international\",\"destinations\":[\"Istanbul\"]},{\"code\":\"AT\",\"name\":\"Royal Air Maroc\",\"type\":\"international\",\"destinations\":[\"Casablanca\"]},{\"code\":\"EK\",\"name\":\"Emirates\",\"type\":\"international\",\"destinations\":[\"Dubaï\"]},{\"code\":\"HF\",\"name\":\"Air Côte d'Ivoire\",\"type\":\"regional\",\"destinations\":[\"Abidjan\",\"Dakar\"]}]}"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 298, "column": 14593}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///C:/Nouveau%20dossier/Projet/Funny_tps/safetraveler/app/map/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Search, X, Layers, Filter } from \"lucide-react\";\nimport EnhancedAirportMap from \"@/components/map/EnhancedAirportMap\";\nimport { Location, LocationType } from \"@/lib/types\";\nimport airportData from \"@/lib/data/airport-data.json\";\nimport { locationColors, theme } from \"@/lib/config/theme\";\n\nconst locationTypeLabels: Record<string, string> = {\n  gate: \"Portes\",\n  checkin: \"Enregistrement\",\n  security: \"Sécurité\",\n  toilet: \"Toilettes\",\n  restaurant: \"Restauration\",\n  shop: \"Boutiques\",\n  information: \"Information\",\n  lounge: \"Salons\",\n  baggage: \"Bagages\",\n  entrance: \"Entrées\",\n  exit: \"Sorties\",\n  medical: \"Médical\",\n  prayer: \"Prière\",\n};\n\nexport default function MapPage() {\n  const [locations, setLocations] = useState<Location[]>([]);\n  const [floors, setFloors] = useState<{ level: number; name: string }[]>([]);\n  const [currentFloor, setCurrentFloor] = useState(0);\n  const [selectedLocation, setSelectedLocation] = useState<string>(\"\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [showFilters, setShowFilters] = useState(false);\n  const [selectedTypes, setSelectedTypes] = useState<Set<string>>(new Set());\n\n  useEffect(() => {\n    setLocations(airportData.locations as Location[]);\n    setFloors(airportData.floors);\n  }, []);\n\n  const locationTypes = Array.from(\n    new Set(locations.map((loc) => loc.type))\n  ).sort();\n\n  const filteredLocations = locations.filter((loc) => {\n    const matchesSearch =\n      loc.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      loc.description?.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesType = selectedTypes.size === 0 || selectedTypes.has(loc.type);\n    return matchesSearch && matchesType;\n  });\n\n  const handleLocationSelect = (locationId: string) => {\n    setSelectedLocation(locationId);\n    const location = locations.find((loc) => loc.id === locationId);\n    if (location) {\n      setCurrentFloor(location.floor);\n    }\n  };\n\n  const toggleType = (type: string) => {\n    const newTypes = new Set(selectedTypes);\n    if (newTypes.has(type)) {\n      newTypes.delete(type);\n    } else {\n      newTypes.add(type);\n    }\n    setSelectedTypes(newTypes);\n  };\n\n  return (\n    <div className=\"h-[calc(100vh-64px)] md:h-[calc(100vh-64px)] flex flex-col\"\n      style={{ backgroundColor: theme.colors.background.paper }}\n    >\n      {/* Search Bar */}\n      <div\n        className=\"border-b p-4\"\n        style={{\n          backgroundColor: theme.colors.background.elevated,\n          borderColor: theme.colors.border.main,\n          boxShadow: theme.shadow.sm,\n        }}\n      >\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"flex-1 relative\">\n              <Search\n                className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5\"\n                style={{ color: theme.colors.gray[400] }}\n              />\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Rechercher un lieu...\"\n                className=\"w-full rounded-lg focus:outline-none transition-all\"\n                style={{\n                  paddingLeft: theme.spacing[10],\n                  paddingRight: theme.spacing[10],\n                  paddingTop: theme.spacing[3],\n                  paddingBottom: theme.spacing[3],\n                  border: `1px solid ${theme.colors.border.main}`,\n                  fontSize: theme.typography.base.fontSize,\n                  color: theme.colors.text.primary,\n                }}\n                onFocus={(e) => {\n                  e.currentTarget.style.borderColor = theme.colors.accent.main;\n                  e.currentTarget.style.boxShadow = `0 0 0 3px ${theme.colors.accent.main}20`;\n                }}\n                onBlur={(e) => {\n                  e.currentTarget.style.borderColor = theme.colors.border.main;\n                  e.currentTarget.style.boxShadow = 'none';\n                }}\n              />\n              {searchQuery && (\n                <button\n                  onClick={() => setSearchQuery(\"\")}\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded transition-colors\"\n                  style={{ color: theme.colors.gray[400] }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.color = theme.colors.gray[600];\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.color = theme.colors.gray[400];\n                  }}\n                >\n                  <X className=\"w-5 h-5\" />\n                </button>\n              )}\n            </div>\n            <button\n              onClick={() => setShowFilters(!showFilters)}\n              className=\"rounded-lg transition-all flex items-center space-x-2\"\n              style={{\n                padding: theme.spacing[3],\n                border: `1px solid ${showFilters ? theme.colors.accent.main : theme.colors.border.main}`,\n                backgroundColor: showFilters ? theme.colors.accent.main + '10' : 'transparent',\n                color: showFilters ? theme.colors.accent.main : theme.colors.gray[700],\n              }}\n              onMouseEnter={(e) => {\n                if (!showFilters) {\n                  e.currentTarget.style.backgroundColor = theme.colors.gray[50];\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (!showFilters) {\n                  e.currentTarget.style.backgroundColor = 'transparent';\n                }\n              }}\n            >\n              <Filter className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          {/* Type Filters */}\n          {showFilters && (\n            <div className=\"mt-4 flex flex-wrap gap-2\">\n              {locationTypes.map((type) => {\n                const isSelected = selectedTypes.has(type);\n                return (\n                  <button\n                    key={type}\n                    onClick={() => toggleType(type)}\n                    className=\"rounded-lg text-sm font-medium transition-all\"\n                    style={{\n                      padding: `${theme.spacing[2]} ${theme.spacing[4]}`,\n                      backgroundColor: isSelected\n                        ? theme.colors.accent.main\n                        : theme.colors.background.elevated,\n                      border: `1px solid ${isSelected ? theme.colors.accent.main : theme.colors.border.main}`,\n                      color: isSelected ? theme.colors.accent.contrast : theme.colors.text.primary,\n                      boxShadow: isSelected ? theme.shadow.sm : 'none',\n                    }}\n                    onMouseEnter={(e) => {\n                      if (!isSelected) {\n                        e.currentTarget.style.backgroundColor = theme.colors.gray[100];\n                      }\n                    }}\n                    onMouseLeave={(e) => {\n                      if (!isSelected) {\n                        e.currentTarget.style.backgroundColor = theme.colors.background.elevated;\n                      }\n                    }}\n                  >\n                    {locationTypeLabels[type] || type}\n                  </button>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Map Container */}\n      <div className=\"flex-1 relative\">\n        <EnhancedAirportMap\n          locations={filteredLocations}\n          selectedLocation={selectedLocation}\n          onLocationSelect={handleLocationSelect}\n          currentFloor={currentFloor}\n        />\n\n        {/* Floor Selector */}\n        <div\n          className=\"absolute top-4 left-4 rounded-xl overflow-hidden\"\n          style={{\n            backgroundColor: theme.colors.background.elevated,\n            boxShadow: theme.shadow.lg,\n          }}\n        >\n          {floors.map((floor) => {\n            const isActive = currentFloor === floor.level;\n            return (\n              <button\n                key={floor.level}\n                onClick={() => setCurrentFloor(floor.level)}\n                className=\"block w-full text-left transition-all\"\n                style={{\n                  padding: `${theme.spacing[4]} ${theme.spacing[6]}`,\n                  borderBottom: `1px solid ${theme.colors.border.light}`,\n                  backgroundColor: isActive\n                    ? theme.colors.accent.main\n                    : theme.colors.background.elevated,\n                  color: isActive ? theme.colors.accent.contrast : theme.colors.text.primary,\n                }}\n                onMouseEnter={(e) => {\n                  if (!isActive) {\n                    e.currentTarget.style.backgroundColor = theme.colors.gray[50];\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (!isActive) {\n                    e.currentTarget.style.backgroundColor = theme.colors.background.elevated;\n                  }\n                }}\n              >\n                <div\n                  className=\"font-semibold\"\n                  style={{\n                    fontSize: theme.typography.base.fontSize,\n                  }}\n                >\n                  {floor.level === 0 ? \"RDC\" : `Étage ${floor.level}`}\n                </div>\n                <div\n                  className=\"mt-1\"\n                  style={{\n                    fontSize: theme.typography.tiny.fontSize,\n                    color: isActive\n                      ? theme.colors.accent.contrast + 'CC'\n                      : theme.colors.text.secondary,\n                  }}\n                >\n                  {floor.name.split(\" - \")[1] || floor.name}\n                </div>\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Legend */}\n        <div\n          className=\"absolute bottom-4 right-4 rounded-xl p-4 max-w-xs\"\n          style={{\n            backgroundColor: theme.colors.background.elevated,\n            boxShadow: theme.shadow.lg,\n          }}\n        >\n          <h3\n            className=\"font-semibold mb-3 flex items-center\"\n            style={{\n              fontSize: theme.typography.base.fontSize,\n              color: theme.colors.text.primary,\n            }}\n          >\n            <Layers className=\"w-4 h-4 mr-2\" />\n            Légende\n          </h3>\n          <div className=\"grid grid-cols-2 gap-2\"\n            style={{ fontSize: theme.typography.tiny.fontSize }}\n          >\n            {Object.entries(locationTypeLabels).slice(0, 8).map(([type, label]) => (\n              <div key={type} className=\"flex items-center space-x-2\">\n                <div\n                  className=\"w-4 h-4 rounded-full flex-shrink-0\"\n                  style={{\n                    backgroundColor: locationColors[type as LocationType] || theme.colors.gray[500],\n                    boxShadow: theme.shadow.sm,\n                  }}\n                />\n                <span style={{ color: theme.colors.text.secondary }}>{label}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}