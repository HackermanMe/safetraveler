{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Nouveau%20dossier/Projet/Funny_tps/safetraveler/components/ui/OnboardingTutorial.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { X, Smartphone, Home, Share, MoreVertical, Download } from \"lucide-react\";\nimport { theme } from \"@/lib/config/theme\";\n\ninterface OnboardingStep {\n  title: string;\n  description: string;\n  icon: React.ReactNode;\n  platform?: \"android\" | \"ios\" | \"desktop\";\n}\n\ninterface OnboardingTutorialProps {\n  show: boolean;\n  onComplete: () => void;\n}\n\nexport default function OnboardingTutorial({ show, onComplete }: OnboardingTutorialProps) {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [platform, setPlatform] = useState<\"android\" | \"ios\" | \"desktop\">(\"android\");\n  const [deferredPrompt, setDeferredPrompt] = useState<any>(null);\n\n  useEffect(() => {\n    // Check if app is already installed (standalone mode)\n    const isStandalone =\n      window.matchMedia('(display-mode: standalone)').matches ||\n      (window.navigator as any).standalone === true;\n\n    if (isStandalone) {\n      // App is already installed, don't show onboarding\n      onComplete();\n      return;\n    }\n\n    // Detect platform\n    const userAgent = navigator.userAgent.toLowerCase();\n    const isIOS = /iphone|ipad|ipod/.test(userAgent);\n    const isAndroid = /android/.test(userAgent);\n    const isSafari = /safari/.test(userAgent) && !/chrome|crios|fxios/.test(userAgent);\n\n    if (isIOS) {\n      // On iOS, check if using Safari (required for PWA installation)\n      if (!isSafari) {\n        // Not in Safari, can't install PWA\n        setPlatform(\"ios\");\n      } else {\n        setPlatform(\"ios\");\n      }\n    } else if (isAndroid) {\n      setPlatform(\"android\");\n    } else {\n      setPlatform(\"desktop\");\n    }\n\n    // Listen for beforeinstallprompt event (Android/Desktop Chrome/Edge)\n    const handleBeforeInstallPrompt = (e: Event) => {\n      // Prevent the mini-infobar from appearing on mobile\n      e.preventDefault();\n      // Stash the event so it can be triggered later\n      setDeferredPrompt(e);\n      console.log(\"beforeinstallprompt event captured\");\n    };\n\n    window.addEventListener(\"beforeinstallprompt\", handleBeforeInstallPrompt);\n\n    // Listen for successful installation\n    window.addEventListener(\"appinstalled\", () => {\n      console.log(\"PWA was installed\");\n      onComplete();\n    });\n\n    return () => {\n      window.removeEventListener(\"beforeinstallprompt\", handleBeforeInstallPrompt);\n    };\n  }, [onComplete]);\n\n  const handleInstallClick = async () => {\n    if (deferredPrompt) {\n      deferredPrompt.prompt();\n      const { outcome } = await deferredPrompt.userChoice;\n      setDeferredPrompt(null);\n\n      if (outcome === \"accepted\") {\n        onComplete();\n      }\n    }\n  };\n\n  const steps: OnboardingStep[] = platform === \"ios\"\n    ? [\n        {\n          title: \"Bienvenue sur SafeTraveler\",\n          description: \"Installez l'application sur votre √©cran d'accueil pour un acc√®s rapide et un fonctionnement hors ligne.\",\n          icon: <Home size={48} style={{ color: theme.colors.accent.main }} />,\n        },\n        {\n          title: \"1. Appuyez sur Partager\",\n          description: \"Appuyez sur l'ic√¥ne de partage (üîº) en bas de Safari\",\n          icon: <Share size={48} style={{ color: theme.colors.accent.main }} />,\n          platform: \"ios\",\n        },\n        {\n          title: \"2. Sur l'√©cran d'accueil\",\n          description: \"Faites d√©filer vers le bas et s√©lectionnez 'Sur l'√©cran d'accueil'\",\n          icon: <Home size={48} style={{ color: theme.colors.accent.main }} />,\n          platform: \"ios\",\n        },\n        {\n          title: \"3. Confirmez l'installation\",\n          description: \"Appuyez sur 'Ajouter' en haut √† droite pour terminer l'installation\",\n          icon: <Download size={48} style={{ color: theme.colors.success.main }} />,\n          platform: \"ios\",\n        },\n      ]\n    : [\n        {\n          title: \"Bienvenue sur SafeTraveler\",\n          description: \"Installez l'application pour une exp√©rience optimale, fonctionnement hors ligne et acc√®s instantan√©.\",\n          icon: <Smartphone size={48} style={{ color: theme.colors.accent.main }} />,\n        },\n        {\n          title: \"Installer l'application\",\n          description: platform === \"android\"\n            ? deferredPrompt\n              ? \"Appuyez sur le bouton ci-dessous pour installer SafeTraveler sur votre appareil en un clic.\"\n              : \"Pour installer l'application, utilisez le menu de votre navigateur (‚ãÆ) puis 'Installer l'application' ou 'Ajouter √† l'√©cran d'accueil'.\"\n            : \"Cliquez sur l'ic√¥ne d'installation dans la barre d'adresse de votre navigateur.\",\n          icon: <Download size={48} style={{ color: theme.colors.accent.main }} />,\n          platform: \"android\",\n        },\n        {\n          title: \"Pr√™t √† d√©coller !\",\n          description: \"Une fois install√©e, SafeTraveler sera accessible depuis votre √©cran d'accueil comme une application native, m√™me hors ligne.\",\n          icon: <Home size={48} style={{ color: theme.colors.success.main }} />,\n        },\n      ];\n\n  const handleNext = () => {\n    if (currentStep < steps.length - 1) {\n      setCurrentStep(currentStep + 1);\n    } else {\n      onComplete();\n    }\n  };\n\n  const handleSkip = () => {\n    onComplete();\n  };\n\n  if (!show) return null;\n\n  const currentStepData = steps[currentStep];\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\n      style={{ backgroundColor: \"rgba(0, 0, 0, 0.75)\" }}\n    >\n      <div\n        className=\"relative w-full max-w-md rounded-2xl p-8 shadow-2xl\"\n        style={{\n          backgroundColor: theme.colors.background.elevated,\n        }}\n      >\n        {/* Close button */}\n        <button\n          onClick={handleSkip}\n          className=\"absolute top-4 right-4 p-2 rounded-full transition-colors\"\n          style={{\n            color: theme.colors.gray[500],\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.backgroundColor = theme.colors.gray[100];\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.backgroundColor = \"transparent\";\n          }}\n          aria-label=\"Fermer\"\n        >\n          <X size={24} />\n        </button>\n\n        {/* Content */}\n        <div className=\"flex flex-col items-center text-center space-y-6\">\n          {/* Icon */}\n          <div\n            className=\"rounded-full p-6\"\n            style={{\n              backgroundColor: theme.colors.accent.main + \"15\", // 15 is opacity\n            }}\n          >\n            {currentStepData.icon}\n          </div>\n\n          {/* Title */}\n          <h2\n            className=\"font-bold\"\n            style={{\n              fontSize: theme.typography.h4.fontSize,\n              fontWeight: theme.typography.h4.fontWeight,\n              lineHeight: theme.typography.h4.lineHeight,\n              color: theme.colors.text.primary,\n            }}\n          >\n            {currentStepData.title}\n          </h2>\n\n          {/* Description */}\n          <p\n            className=\"max-w-sm\"\n            style={{\n              fontSize: theme.typography.base.fontSize,\n              lineHeight: theme.typography.base.lineHeight,\n              color: theme.colors.text.secondary,\n            }}\n          >\n            {currentStepData.description}\n          </p>\n\n          {/* Install button for Android (if available) */}\n          {platform === \"android\" && currentStep === 1 && deferredPrompt && (\n            <button\n              onClick={handleInstallClick}\n              className=\"w-full py-4 px-6 rounded-lg font-medium transition-all\"\n              style={{\n                backgroundColor: theme.colors.accent.main,\n                color: theme.colors.accent.contrast,\n                fontSize: theme.typography.button.fontSize,\n                fontWeight: theme.typography.button.fontWeight,\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = theme.colors.accent.dark;\n                e.currentTarget.style.transform = \"translateY(-1px)\";\n                e.currentTarget.style.boxShadow = theme.shadow.md;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = theme.colors.accent.main;\n                e.currentTarget.style.transform = \"translateY(0)\";\n                e.currentTarget.style.boxShadow = \"none\";\n              }}\n            >\n              <Download className=\"inline mr-2\" size={20} />\n              Installer maintenant\n            </button>\n          )}\n\n          {/* Progress dots */}\n          <div className=\"flex gap-2 pt-4\">\n            {steps.map((_, index) => (\n              <div\n                key={index}\n                className=\"h-2 rounded-full transition-all\"\n                style={{\n                  width: index === currentStep ? \"32px\" : \"8px\",\n                  backgroundColor:\n                    index === currentStep\n                      ? theme.colors.accent.main\n                      : theme.colors.gray[300],\n                }}\n              />\n            ))}\n          </div>\n\n          {/* Navigation buttons */}\n          <div className=\"flex gap-4 w-full pt-4\">\n            {currentStep > 0 && (\n              <button\n                onClick={() => setCurrentStep(currentStep - 1)}\n                className=\"flex-1 py-3 px-6 rounded-lg font-medium transition-colors\"\n                style={{\n                  backgroundColor: theme.colors.gray[100],\n                  color: theme.colors.gray[700],\n                  fontSize: theme.typography.button.fontSize,\n                  fontWeight: theme.typography.button.fontWeight,\n                }}\n                onMouseEnter={(e) => {\n                  e.currentTarget.style.backgroundColor = theme.colors.gray[200];\n                }}\n                onMouseLeave={(e) => {\n                  e.currentTarget.style.backgroundColor = theme.colors.gray[100];\n                }}\n              >\n                Retour\n              </button>\n            )}\n            <button\n              onClick={handleNext}\n              className=\"flex-1 py-3 px-6 rounded-lg font-medium transition-all\"\n              style={{\n                backgroundColor: theme.colors.accent.main,\n                color: theme.colors.accent.contrast,\n                fontSize: theme.typography.button.fontSize,\n                fontWeight: theme.typography.button.fontWeight,\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = theme.colors.accent.dark;\n                e.currentTarget.style.transform = \"translateY(-1px)\";\n                e.currentTarget.style.boxShadow = theme.shadow.md;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = theme.colors.accent.main;\n                e.currentTarget.style.transform = \"translateY(0)\";\n                e.currentTarget.style.boxShadow = \"none\";\n              }}\n            >\n              {currentStep === steps.length - 1 ? \"Terminer\" : \"Suivant\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":["file:///C:/Nouveau%20dossier/Projet/Funny_tps/safetraveler/components/home/HeroSection.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport { theme } from \"@/lib/config/theme\";\r\nimport { usePassenger } from \"@/lib/context/PassengerContext\";\r\nimport { Plane } from \"lucide-react\";\r\n\r\ninterface HeroSectionProps {\r\n    onOpenClassSelector?: () => void;\r\n}\r\n\r\nexport default function HeroSection({ onOpenClassSelector }: HeroSectionProps) {\r\n    const { profile } = usePassenger();\r\n    const time = new Date().getHours();\r\n    // Simple greeting logic\r\n    let greeting = \"Bonjour\";\r\n    if (time >= 18) greeting = \"Bonsoir\";\r\n\r\n    return (\r\n        <div\r\n            className=\"w-full px-6 pt-10 pb-6\"\r\n            style={{\r\n                backgroundColor: theme.colors.background.default,\r\n            }}\r\n        >\r\n            <div className=\"flex justify-between items-start mb-8\">\r\n                <div>\r\n                    <Image\r\n                        src=\"/icons/logo.png\"\r\n                        alt=\"Logo\"\r\n                        width={60}\r\n                        height={60}\r\n                        className=\"mb-4\"\r\n                    />\r\n                    <h1\r\n                        className=\"font-bold mb-1\"\r\n                        style={{\r\n                            fontSize: \"32px\",\r\n                            color: theme.colors.text.primary,\r\n                            lineHeight: 1.1,\r\n                        }}\r\n                    >\r\n                        {greeting},\r\n                    </h1>\r\n                    <p\r\n                        style={{\r\n                            fontSize: theme.typography.base.fontSize,\r\n                            color: theme.colors.text.secondary,\r\n                        }}\r\n                    >\r\n                        Pr√™t pour votre voyage ?\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Flat Status Card */}\r\n            {profile ? (\r\n                <div\r\n                    className=\"w-full p-5 rounded-none\"\r\n                    style={{\r\n                        backgroundColor: theme.colors.gray[100],\r\n                        borderLeft: `4px solid ${theme.colors.accent.main}`,\r\n                    }}\r\n                    onClick={onOpenClassSelector} // Allow changing class by clicking card too\r\n                >\r\n                    <div className=\"flex items-center gap-3 mb-2\">\r\n                        <Plane className=\"w-5 h-5\" style={{ color: theme.colors.accent.main }} />\r\n                        <span\r\n                            className=\"font-bold text-lg\"\r\n                            style={{ color: theme.colors.text.primary }}\r\n                        >\r\n                            Vol {profile.flightNumber}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"flex justify-between items-end\">\r\n                        <div className=\"text-sm\" style={{ color: theme.colors.text.secondary }}>\r\n                            {profile.gate ? (\r\n                                <span>Porte <strong style={{ color: theme.colors.text.primary }}>{profile.gate}</strong></span>\r\n                            ) : (\r\n                                \"Porte non annonc√©e\"\r\n                            )}\r\n                        </div>\r\n                        <div\r\n                            className=\"px-3 py-1 text-xs font-bold uppercase\"\r\n                            style={{\r\n                                backgroundColor: theme.colors.accent.main,\r\n                                color: \"#FFF\",\r\n                            }}\r\n                        >\r\n                            {profile.class === 'economy' ? 'ECO' : profile.class === 'business' ? 'BUS' : 'PREM'}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div\r\n                    className=\"w-full p-5 cursor-pointer transition-opacity active:opacity-80\"\r\n                    style={{\r\n                        backgroundColor: theme.colors.accent.main,\r\n                        color: \"#FFF\",\r\n                    }}\r\n                    onClick={onOpenClassSelector}\r\n                >\r\n                    <h3 className=\"font-bold text-lg mb-1\">Bienvenue √† Lom√©</h3>\r\n                    <p className=\"text-sm opacity-90\">S√©lectionnez votre classe pour commencer</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAWe,SAAS,YAAY,EAAE,mBAAmB,EAAoB;IACzE,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,mJAAY;IAChC,MAAM,OAAO,IAAI,OAAO,QAAQ;IAChC,wBAAwB;IACxB,IAAI,WAAW;IACf,IAAI,QAAQ,IAAI,WAAW;IAE3B,qBACI,8OAAC;QACG,WAAU;QACV,OAAO;YACH,iBAAiB,+HAAK,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO;QACpD;;0BAEA,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;;sCACG,8OAAC,wIAAK;4BACF,KAAI;4BACJ,KAAI;4BACJ,OAAO;4BACP,QAAQ;4BACR,WAAU;;;;;;sCAEd,8OAAC;4BACG,WAAU;4BACV,OAAO;gCACH,UAAU;gCACV,OAAO,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO;gCAChC,YAAY;4BAChB;;gCAEC;gCAAS;;;;;;;sCAEd,8OAAC;4BACG,OAAO;gCACH,UAAU,+HAAK,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ;gCACxC,OAAO,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS;4BACtC;sCACH;;;;;;;;;;;;;;;;;YAOR,wBACG,8OAAC;gBACG,WAAU;gBACV,OAAO;oBACH,iBAAiB,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI;oBACvC,YAAY,CAAC,UAAU,EAAE,+HAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE;gBACvD;gBACA,SAAS;;kCAET,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,6MAAK;gCAAC,WAAU;gCAAU,OAAO;oCAAE,OAAO,+HAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI;gCAAC;;;;;;0CACpE,8OAAC;gCACG,WAAU;gCACV,OAAO;oCAAE,OAAO,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO;gCAAC;;oCAC7C;oCACQ,QAAQ,YAAY;;;;;;;;;;;;;kCAGjC,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;gCAAU,OAAO;oCAAE,OAAO,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS;gCAAC;0CAChE,QAAQ,IAAI,iBACT,8OAAC;;wCAAK;sDAAM,8OAAC;4CAAO,OAAO;gDAAE,OAAO,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO;4CAAC;sDAAI,QAAQ,IAAI;;;;;;;;;;;2CAE9E;;;;;;0CAGR,8OAAC;gCACG,WAAU;gCACV,OAAO;oCACH,iBAAiB,+HAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI;oCACzC,OAAO;gCACX;0CAEC,QAAQ,KAAK,KAAK,YAAY,QAAQ,QAAQ,KAAK,KAAK,aAAa,QAAQ;;;;;;;;;;;;;;;;;qCAK1F,8OAAC;gBACG,WAAU;gBACV,OAAO;oBACH,iBAAiB,+HAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI;oBACzC,OAAO;gBACX;gBACA,SAAS;;kCAET,8OAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;;AAKtD"}},
    {"offset": {"line": 622, "column": 0}, "map": {"version":3,"sources":["file:///C:/Nouveau%20dossier/Projet/Funny_tps/safetraveler/components/home/QuickActionsGrid.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { theme } from \"@/lib/config/theme\";\r\nimport { MapPin, Navigation, Info, AlertTriangle } from \"lucide-react\";\r\n\r\nconst actions = [\r\n    {\r\n        href: \"/map\",\r\n        icon: MapPin,\r\n        title: \"Plan\",\r\n        color: theme.colors.info.main,\r\n    },\r\n    {\r\n        href: \"/navigation\",\r\n        icon: Navigation,\r\n        title: \"Naviguer\",\r\n        color: theme.colors.accent.main,\r\n    },\r\n    {\r\n        href: \"/services\",\r\n        icon: Info,\r\n        title: \"Services\",\r\n        color: theme.colors.success.main,\r\n    },\r\n    {\r\n        href: \"/report\",\r\n        icon: AlertTriangle,\r\n        title: \"Alerte\",\r\n        color: theme.colors.error.main,\r\n    },\r\n];\r\n\r\nexport default function QuickActionsGrid() {\r\n    return (\r\n        <div className=\"px-6 mb-8\">\r\n            <h2\r\n                className=\"font-bold mb-4 text-lg\"\r\n                style={{ color: theme.colors.text.primary }}\r\n            >\r\n                Acc√®s Rapide\r\n            </h2>\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n                {actions.map((action) => {\r\n                    const Icon = action.icon;\r\n                    return (\r\n                        <Link\r\n                            key={action.title}\r\n                            href={action.href}\r\n                            className=\"flex flex-col items-center justify-center p-4 transition-colors active:opacity-80\" // Touch feedback\r\n                            style={{\r\n                                backgroundColor: theme.colors.gray[100], // Flat background\r\n                                height: \"100px\",\r\n                            }}\r\n                        >\r\n                            <Icon className=\"w-8 h-8 mb-2\" style={{ color: action.color }} />\r\n                            <span\r\n                                className=\"font-semibold text-sm\"\r\n                                style={{ color: theme.colors.text.primary }}\r\n                            >\r\n                                {action.title}\r\n                            </span>\r\n                        </Link>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAJA;;;;;AAMA,MAAM,UAAU;IACZ;QACI,MAAM;QACN,MAAM,oNAAM;QACZ,OAAO;QACP,OAAO,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI;IACjC;IACA;QACI,MAAM;QACN,MAAM,4NAAU;QAChB,OAAO;QACP,OAAO,+HAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI;IACnC;IACA;QACI,MAAM;QACN,MAAM,0MAAI;QACV,OAAO;QACP,OAAO,+HAAK,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI;IACpC;IACA;QACI,MAAM;QACN,MAAM,yOAAa;QACnB,OAAO;QACP,OAAO,+HAAK,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI;IAClC;CACH;AAEc,SAAS;IACpB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBACG,WAAU;gBACV,OAAO;oBAAE,OAAO,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO;gBAAC;0BAC7C;;;;;;0BAGD,8OAAC;gBAAI,WAAU;0BACV,QAAQ,GAAG,CAAC,CAAC;oBACV,MAAM,OAAO,OAAO,IAAI;oBACxB,qBACI,8OAAC,uKAAI;wBAED,MAAM,OAAO,IAAI;wBACjB,WAAU;wBACV,OAAO;4BACH,iBAAiB,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI;4BACvC,QAAQ;wBACZ;;0CAEA,8OAAC;gCAAK,WAAU;gCAAe,OAAO;oCAAE,OAAO,OAAO,KAAK;gCAAC;;;;;;0CAC5D,8OAAC;gCACG,WAAU;gCACV,OAAO;oCAAE,OAAO,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO;gCAAC;0CAEzC,OAAO,KAAK;;;;;;;uBAbZ,OAAO,KAAK;;;;;gBAiB7B;;;;;;;;;;;;AAIhB"}},
    {"offset": {"line": 735, "column": 0}, "map": {"version":3,"sources":["file:///C:/Nouveau%20dossier/Projet/Funny_tps/safetraveler/components/home/JourneyTimeline.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { usePassenger } from \"@/lib/context/PassengerContext\";\r\nimport { getApplicableSteps } from \"@/lib/types/passenger\";\r\nimport { theme } from \"@/lib/config/theme\";\r\nimport { Check, Circle } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function JourneyTimeline() {\r\n    const { profile } = usePassenger();\r\n\r\n    if (!profile) return null;\r\n\r\n    const steps = getApplicableSteps(profile.class);\r\n    const currentStepIndex = profile.currentStep || 0;\r\n\r\n    return (\r\n        <div className=\"px-6 mb-10\">\r\n            <h2\r\n                className=\"font-bold mb-4 text-lg\"\r\n                style={{ color: theme.colors.text.primary }}\r\n            >\r\n                Votre Parcours\r\n            </h2>\r\n\r\n            <div className=\"relative border-l-2 ml-3\" style={{ borderColor: theme.colors.gray[200] }}>\r\n                {steps.map((step, index) => {\r\n                    const isCompleted = index < currentStepIndex;\r\n                    const isCurrent = index === currentStepIndex;\r\n\r\n                    return (\r\n                        <div key={step.id} className=\"mb-8 pl-6 relative\">\r\n                            {/* Dot Indicator */}\r\n                            <div\r\n                                className=\"absolute -left-[9px] top-1 w-4 h-4 rounded-full flex items-center justify-center\"\r\n                                style={{\r\n                                    backgroundColor: isCompleted || isCurrent\r\n                                        ? theme.colors.accent.main\r\n                                        : theme.colors.background.default,\r\n                                    border: `2px solid ${isCompleted || isCurrent\r\n                                            ? theme.colors.accent.main\r\n                                            : theme.colors.gray[300]\r\n                                        }`,\r\n                                }}\r\n                            >\r\n                                {isCompleted && <Check className=\"w-2 h-2 text-white\" strokeWidth={4} />}\r\n                            </div>\r\n\r\n                            {/* Content */}\r\n                            <div>\r\n                                <h3\r\n                                    className={`font-bold text-base mb-1 ${isCurrent ? 'text-gray-900' : 'text-gray-500'}`}\r\n                                >\r\n                                    {step.title}\r\n                                </h3>\r\n                                <p className=\"text-sm text-gray-500 mb-2\">\r\n                                    {step.description}\r\n                                </p>\r\n\r\n                                {isCurrent && (\r\n                                    <Link\r\n                                        href=\"/navigation\"\r\n                                        className=\"inline-block px-4 py-2 mt-2 text-sm font-bold text-white transition-opacity active:opacity-80\"\r\n                                        style={{ backgroundColor: theme.colors.accent.main }}\r\n                                    >\r\n                                        Y aller maintenant\r\n                                    </Link>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACpB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,mJAAY;IAEhC,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,QAAQ,IAAA,+IAAkB,EAAC,QAAQ,KAAK;IAC9C,MAAM,mBAAmB,QAAQ,WAAW,IAAI;IAEhD,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBACG,WAAU;gBACV,OAAO;oBAAE,OAAO,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO;gBAAC;0BAC7C;;;;;;0BAID,8OAAC;gBAAI,WAAU;gBAA2B,OAAO;oBAAE,aAAa,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI;gBAAC;0BAClF,MAAM,GAAG,CAAC,CAAC,MAAM;oBACd,MAAM,cAAc,QAAQ;oBAC5B,MAAM,YAAY,UAAU;oBAE5B,qBACI,8OAAC;wBAAkB,WAAU;;0CAEzB,8OAAC;gCACG,WAAU;gCACV,OAAO;oCACH,iBAAiB,eAAe,YAC1B,+HAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,GACxB,+HAAK,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO;oCACrC,QAAQ,CAAC,UAAU,EAAE,eAAe,YAC1B,+HAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,GACxB,+HAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAC1B;gCACV;0CAEC,6BAAe,8OAAC,6MAAK;oCAAC,WAAU;oCAAqB,aAAa;;;;;;;;;;;0CAIvE,8OAAC;;kDACG,8OAAC;wCACG,WAAW,CAAC,yBAAyB,EAAE,YAAY,kBAAkB,iBAAiB;kDAErF,KAAK,KAAK;;;;;;kDAEf,8OAAC;wCAAE,WAAU;kDACR,KAAK,WAAW;;;;;;oCAGpB,2BACG,8OAAC,uKAAI;wCACD,MAAK;wCACL,WAAU;wCACV,OAAO;4CAAE,iBAAiB,+HAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI;wCAAC;kDACtD;;;;;;;;;;;;;uBAjCH,KAAK,EAAE;;;;;gBAwCzB;;;;;;;;;;;;AAIhB"}},
    {"offset": {"line": 860, "column": 0}, "map": {"version":3,"sources":["file:///C:/Nouveau%20dossier/Projet/Funny_tps/safetraveler/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { usePassenger } from \"@/lib/context/PassengerContext\";\nimport { PassengerClass } from \"@/lib/types/passenger\";\nimport { theme } from \"@/lib/config/theme\";\nimport ClassSelectorModal from \"@/components/ui/ClassSelectorModal\";\nimport OnboardingTutorial from \"@/components/ui/OnboardingTutorial\";\nimport HeroSection from \"@/components/home/HeroSection\";\nimport QuickActionsGrid from \"@/components/home/QuickActionsGrid\";\nimport JourneyTimeline from \"@/components/home/JourneyTimeline\";\n\nexport default function Home() {\n  const { profile, setProfile } = usePassenger();\n  const [showModal, setShowModal] = useState(false);\n  const [showOnboarding, setShowOnboarding] = useState(false);\n\n  useEffect(() => {\n    // Show modal on first load if no profile\n    if (!profile) {\n      setShowModal(true);\n    }\n  }, [profile]);\n\n  const handleClassSelect = (\n    selectedClass: PassengerClass,\n    flightNumber?: string,\n    gate?: string\n  ) => {\n    setProfile({\n      class: selectedClass,\n      flightNumber,\n      gate,\n      terminal: \"1\",\n    });\n    setShowModal(false);\n  };\n\n  const handleFirstTimeSelect = () => {\n    const hasSeenOnboarding = localStorage.getItem(\"hasSeenOnboarding\");\n    if (!hasSeenOnboarding) {\n      setTimeout(() => {\n        setShowOnboarding(true);\n      }, 300);\n    }\n  };\n\n  const handleOnboardingComplete = () => {\n    setShowOnboarding(false);\n    localStorage.setItem(\"hasSeenOnboarding\", \"true\");\n  };\n\n  return (\n    <>\n      <ClassSelectorModal\n        isOpen={showModal}\n        onClose={() => setShowModal(false)}\n        onSelect={handleClassSelect}\n        onFirstTimeSelect={handleFirstTimeSelect}\n      />\n\n      <OnboardingTutorial\n        show={showOnboarding}\n        onComplete={handleOnboardingComplete}\n      />\n\n      <div\n        className=\"min-h-screen pb-20\"\n        style={{\n          backgroundColor: theme.colors.background.default,\n        }}\n      >\n        <HeroSection onOpenClassSelector={() => setShowModal(true)} />\n\n        <QuickActionsGrid />\n\n        <JourneyTimeline />\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;AAYe,SAAS;IACtB,MAAM,EAAE,OAAO,EAAE,UAAU,EAAE,GAAG,IAAA,mJAAY;IAC5C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IAErD,IAAA,kNAAS,EAAC;QACR,yCAAyC;QACzC,IAAI,CAAC,SAAS;YACZ,aAAa;QACf;IACF,GAAG;QAAC;KAAQ;IAEZ,MAAM,oBAAoB,CACxB,eACA,cACA;QAEA,WAAW;YACT,OAAO;YACP;YACA;YACA,UAAU;QACZ;QACA,aAAa;IACf;IAEA,MAAM,wBAAwB;QAC5B,MAAM,oBAAoB,aAAa,OAAO,CAAC;QAC/C,IAAI,CAAC,mBAAmB;YACtB,WAAW;gBACT,kBAAkB;YACpB,GAAG;QACL;IACF;IAEA,MAAM,2BAA2B;QAC/B,kBAAkB;QAClB,aAAa,OAAO,CAAC,qBAAqB;IAC5C;IAEA,qBACE;;0BACE,8OAAC,kJAAkB;gBACjB,QAAQ;gBACR,SAAS,IAAM,aAAa;gBAC5B,UAAU;gBACV,mBAAmB;;;;;;0BAGrB,8OAAC,kJAAkB;gBACjB,MAAM;gBACN,YAAY;;;;;;0BAGd,8OAAC;gBACC,WAAU;gBACV,OAAO;oBACL,iBAAiB,+HAAK,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO;gBAClD;;kCAEA,8OAAC,6IAAW;wBAAC,qBAAqB,IAAM,aAAa;;;;;;kCAErD,8OAAC,kJAAgB;;;;;kCAEjB,8OAAC,iJAAe;;;;;;;;;;;;;AAIxB"}}]
}