{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/safetraveler/app/api/flights/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\n\r\n// Types pour AviationStack API\r\ninterface AviationStackFlight {\r\n  flight_date: string;\r\n  flight_status: string;\r\n  departure: {\r\n    airport: string;\r\n    timezone: string;\r\n    iata: string;\r\n    icao: string;\r\n    terminal: string | null;\r\n    gate: string | null;\r\n    delay: number | null;\r\n    scheduled: string;\r\n    estimated: string;\r\n    actual: string | null;\r\n    estimated_runway: string | null;\r\n    actual_runway: string | null;\r\n  };\r\n  arrival: {\r\n    airport: string;\r\n    timezone: string;\r\n    iata: string;\r\n    icao: string;\r\n    terminal: string | null;\r\n    gate: string | null;\r\n    baggage: string | null;\r\n    delay: number | null;\r\n    scheduled: string;\r\n    estimated: string;\r\n    actual: string | null;\r\n    estimated_runway: string | null;\r\n    actual_runway: string | null;\r\n  };\r\n  airline: {\r\n    name: string;\r\n    iata: string;\r\n    icao: string;\r\n  };\r\n  flight: {\r\n    number: string;\r\n    iata: string;\r\n    icao: string;\r\n    codeshared: any | null;\r\n  };\r\n}\r\n\r\ninterface FlightData {\r\n  id: string;\r\n  flightNumber: string;\r\n  airline: string;\r\n  airlineCode: string;\r\n  origin: string;\r\n  destination: string;\r\n  scheduledTime: string;\r\n  estimatedTime: string;\r\n  status: 'on-time' | 'delayed' | 'boarding' | 'departed' | 'arrived' | 'cancelled';\r\n  gate?: string;\r\n  terminal?: string;\r\n  delay?: number;\r\n  type: 'departure' | 'arrival';\r\n}\r\n\r\n// Cache en mémoire (30 minutes)\r\nlet flightCache: {\r\n  data: FlightData[] | null;\r\n  timestamp: number;\r\n} = {\r\n  data: null,\r\n  timestamp: 0,\r\n};\r\n\r\nconst CACHE_DURATION = 30 * 60 * 1000; // 30 minutes\r\nconst AVIATIONSTACK_API_KEY = process.env.AVIATIONSTACK_API_KEY;\r\nconst LFW_AIRPORT_CODE = 'LFW'; // Lomé\r\n\r\n// Données simulées réalistes basées sur les vraies compagnies de Lomé\r\nfunction generateSimulatedFlights(): FlightData[] {\r\n  const now = new Date();\r\n  const flights: FlightData[] = [];\r\n\r\n  // Configuration des vols réels de Lomé\r\n  const realFlights = [\r\n    // Départs\r\n    { airline: 'Air France', code: 'AF', number: '942', destination: 'CDG', destinationName: 'Paris Charles de Gaulle', hour: 23, minute: 55, type: 'departure' as const },\r\n    { airline: 'Brussels Airlines', code: 'SN', number: '238', destination: 'BRU', destinationName: 'Bruxelles', hour: 14, minute: 30, type: 'departure' as const },\r\n    { airline: 'Ethiopian Airlines', code: 'ET', number: '928', destination: 'ADD', destinationName: 'Addis-Abeba', hour: 2, minute: 15, type: 'departure' as const },\r\n    { airline: 'Turkish Airlines', code: 'TK', number: '538', destination: 'IST', destinationName: 'Istanbul', hour: 22, minute: 45, type: 'departure' as const },\r\n    { airline: 'Royal Air Maroc', code: 'AT', number: '566', destination: 'CMN', destinationName: 'Casablanca', hour: 15, minute: 20, type: 'departure' as const },\r\n    { airline: 'Emirates', code: 'EK', number: '787', destination: 'DXB', destinationName: 'Dubaï', hour: 1, minute: 30, type: 'departure' as const },\r\n    { airline: 'ASKY Airlines', code: 'KP', number: '102', destination: 'DKR', destinationName: 'Dakar', hour: 8, minute: 0, type: 'departure' as const },\r\n    { airline: 'ASKY Airlines', code: 'KP', number: '201', destination: 'ABJ', destinationName: 'Abidjan', hour: 10, minute: 15, type: 'departure' as const },\r\n    { airline: 'ASKY Airlines', code: 'KP', number: '304', destination: 'ACC', destinationName: 'Accra', hour: 12, minute: 30, type: 'departure' as const },\r\n    { airline: 'ASKY Airlines', code: 'KP', number: '407', destination: 'LOS', destinationName: 'Lagos', hour: 16, minute: 45, type: 'departure' as const },\r\n    { airline: 'Air Côte d\\'Ivoire', code: 'HF', number: '542', destination: 'ABJ', destinationName: 'Abidjan', hour: 11, minute: 0, type: 'departure' as const },\r\n\r\n    // Arrivées\r\n    { airline: 'Air France', code: 'AF', number: '941', destination: 'CDG', destinationName: 'Paris Charles de Gaulle', hour: 20, minute: 30, type: 'arrival' as const },\r\n    { airline: 'Brussels Airlines', code: 'SN', number: '237', destination: 'BRU', destinationName: 'Bruxelles', hour: 13, minute: 15, type: 'arrival' as const },\r\n    { airline: 'Ethiopian Airlines', code: 'ET', number: '927', destination: 'ADD', destinationName: 'Addis-Abeba', hour: 0, minute: 45, type: 'arrival' as const },\r\n    { airline: 'Turkish Airlines', code: 'TK', number: '537', destination: 'IST', destinationName: 'Istanbul', hour: 21, minute: 0, type: 'arrival' as const },\r\n    { airline: 'ASKY Airlines', code: 'KP', number: '101', destination: 'DKR', destinationName: 'Dakar', hour: 7, minute: 0, type: 'arrival' as const },\r\n    { airline: 'ASKY Airlines', code: 'KP', number: '202', destination: 'ABJ', destinationName: 'Abidjan', hour: 9, minute: 30, type: 'arrival' as const },\r\n    { airline: 'ASKY Airlines', code: 'KP', number: '305', destination: 'ACC', destinationName: 'Accra', hour: 14, minute: 15, type: 'arrival' as const },\r\n  ];\r\n\r\n  const gates = ['A1', 'A2', 'A3', 'A4', 'A5', 'A6', 'B1', 'B2', 'B3'];\r\n  const statuses: Array<'on-time' | 'delayed' | 'boarding' | 'departed' | 'arrived'> = ['on-time', 'on-time', 'on-time', 'delayed', 'boarding'];\r\n\r\n  realFlights.forEach((flight, index) => {\r\n    const scheduledTime = new Date(now);\r\n    scheduledTime.setHours(flight.hour, flight.minute, 0, 0);\r\n\r\n    // Si le vol est dans le passé, le mettre à demain\r\n    if (scheduledTime < now) {\r\n      scheduledTime.setDate(scheduledTime.getDate() + 1);\r\n    }\r\n\r\n    const status = statuses[index % statuses.length];\r\n    const delay = status === 'delayed' ? Math.floor(Math.random() * 60) + 15 : 0;\r\n\r\n    const estimatedTime = new Date(scheduledTime);\r\n    if (delay > 0) {\r\n      estimatedTime.setMinutes(estimatedTime.getMinutes() + delay);\r\n    }\r\n\r\n    flights.push({\r\n      id: `${flight.code}${flight.number}-${flight.type}-${index}`,\r\n      flightNumber: `${flight.code}${flight.number}`,\r\n      airline: flight.airline,\r\n      airlineCode: flight.code,\r\n      origin: flight.type === 'departure' ? 'Lomé (LFW)' : flight.destinationName,\r\n      destination: flight.type === 'departure' ? flight.destinationName : 'Lomé (LFW)',\r\n      scheduledTime: scheduledTime.toISOString(),\r\n      estimatedTime: estimatedTime.toISOString(),\r\n      status,\r\n      gate: gates[index % gates.length],\r\n      terminal: '1',\r\n      delay: delay > 0 ? delay : undefined,\r\n      type: flight.type,\r\n    });\r\n  });\r\n\r\n  // Trier par heure\r\n  return flights.sort((a, b) =>\r\n    new Date(a.scheduledTime).getTime() - new Date(b.scheduledTime).getTime()\r\n  );\r\n}\r\n\r\n// Fonction pour récupérer les vols depuis AviationStack\r\nasync function fetchFlightsFromAPI(): Promise<FlightData[]> {\r\n  if (!AVIATIONSTACK_API_KEY) {\r\n    console.log('No AviationStack API key - using simulated data');\r\n    return generateSimulatedFlights();\r\n  }\r\n\r\n  try {\r\n    // Récupérer les départs\r\n    const departuresUrl = `http://api.aviationstack.com/v1/flights?access_key=${AVIATIONSTACK_API_KEY}&dep_iata=${LFW_AIRPORT_CODE}&limit=50`;\r\n    const arrivalsUrl = `http://api.aviationstack.com/v1/flights?access_key=${AVIATIONSTACK_API_KEY}&arr_iata=${LFW_AIRPORT_CODE}&limit=50`;\r\n\r\n    const [departuresRes, arrivalsRes] = await Promise.all([\r\n      fetch(departuresUrl),\r\n      fetch(arrivalsUrl),\r\n    ]);\r\n\r\n    if (!departuresRes.ok || !arrivalsRes.ok) {\r\n      console.error('AviationStack API error - falling back to simulated data');\r\n      return generateSimulatedFlights();\r\n    }\r\n\r\n    const departuresData = await departuresRes.json();\r\n    const arrivalsData = await arrivalsRes.json();\r\n\r\n    const flights: FlightData[] = [];\r\n\r\n    // Traiter les départs\r\n    if (departuresData.data) {\r\n      departuresData.data.forEach((flight: AviationStackFlight, index: number) => {\r\n        flights.push({\r\n          id: `${flight.flight.iata}-dep-${flight.flight_date}-${index}`,\r\n          flightNumber: flight.flight.iata,\r\n          airline: flight.airline.name,\r\n          airlineCode: flight.airline.iata,\r\n          origin: flight.departure.airport,\r\n          destination: flight.arrival.airport,\r\n          scheduledTime: flight.departure.scheduled,\r\n          estimatedTime: flight.departure.estimated || flight.departure.scheduled,\r\n          status: mapFlightStatus(flight.flight_status),\r\n          gate: flight.departure.gate || undefined,\r\n          terminal: flight.departure.terminal || undefined,\r\n          delay: flight.departure.delay || undefined,\r\n          type: 'departure',\r\n        });\r\n      });\r\n    }\r\n\r\n    // Traiter les arrivées\r\n    if (arrivalsData.data) {\r\n      arrivalsData.data.forEach((flight: AviationStackFlight, index: number) => {\r\n        flights.push({\r\n          id: `${flight.flight.iata}-arr-${flight.flight_date}-${index}`,\r\n          flightNumber: flight.flight.iata,\r\n          airline: flight.airline.name,\r\n          airlineCode: flight.airline.iata,\r\n          origin: flight.departure.airport,\r\n          destination: flight.arrival.airport,\r\n          scheduledTime: flight.arrival.scheduled,\r\n          estimatedTime: flight.arrival.estimated || flight.arrival.scheduled,\r\n          status: mapFlightStatus(flight.flight_status),\r\n          gate: flight.arrival.gate || undefined,\r\n          terminal: flight.arrival.terminal || undefined,\r\n          delay: flight.arrival.delay || undefined,\r\n          type: 'arrival',\r\n        });\r\n      });\r\n    }\r\n\r\n    return flights.length > 0 ? flights : generateSimulatedFlights();\r\n  } catch (error) {\r\n    console.error('Error fetching flights from AviationStack:', error);\r\n    return generateSimulatedFlights();\r\n  }\r\n}\r\n\r\nfunction mapFlightStatus(status: string): FlightData['status'] {\r\n  const statusMap: Record<string, FlightData['status']> = {\r\n    'scheduled': 'on-time',\r\n    'active': 'boarding',\r\n    'landed': 'arrived',\r\n    'cancelled': 'cancelled',\r\n    'incident': 'delayed',\r\n    'diverted': 'delayed',\r\n  };\r\n  return statusMap[status] || 'on-time';\r\n}\r\n\r\nexport async function GET(request: Request) {\r\n  try {\r\n    const { searchParams } = new URL(request.url);\r\n    const type = searchParams.get('type'); // 'departure' | 'arrival' | null (all)\r\n\r\n    // Vérifier le cache\r\n    const now = Date.now();\r\n    if (flightCache.data && (now - flightCache.timestamp) < CACHE_DURATION) {\r\n      console.log('Returning cached flight data');\r\n      let data = flightCache.data;\r\n\r\n      if (type) {\r\n        data = data.filter(flight => flight.type === type);\r\n      }\r\n\r\n      return NextResponse.json({\r\n        success: true,\r\n        cached: true,\r\n        data,\r\n        cacheAge: Math.floor((now - flightCache.timestamp) / 1000),\r\n      });\r\n    }\r\n\r\n    // Récupérer de nouvelles données\r\n    console.log('Fetching fresh flight data');\r\n    const flights = await fetchFlightsFromAPI();\r\n\r\n    // Mettre en cache\r\n    flightCache = {\r\n      data: flights,\r\n      timestamp: now,\r\n    };\r\n\r\n    let data = flights;\r\n    if (type) {\r\n      data = data.filter(flight => flight.type === type);\r\n    }\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      cached: false,\r\n      data,\r\n      source: AVIATIONSTACK_API_KEY ? 'api' : 'simulated',\r\n    });\r\n  } catch (error) {\r\n    console.error('Error in flights API:', error);\r\n    return NextResponse.json(\r\n      {\r\n        success: false,\r\n        error: 'Failed to fetch flight data',\r\n        data: generateSimulatedFlights(),\r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}}]
}